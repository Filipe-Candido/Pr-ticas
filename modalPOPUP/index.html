<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8"/>
         <title>Modal com HTML</title>
        <style>
            #modalDialog::backdrop{
                background-color:rgba(0,0,0,0.6);
            }
            #modalDialog{
                border:2px solid black;
            }
        </style>
    </head>
    <body>
        <h1>Modal com HTML</h1>
        <button id="openButton">Abrir Formulário</button>
        <!--Tag dialog = modal popup-->
        
        <dialog id="modalDialog">
            <h2> Formulário de contato</h2>
            <form id="modalForm">
                <label for="email">Insira seu e-mail</label>
                <input type="email" placeholder="E-mail"/>
                <button type="button" id="closeButton">Fechar</button>
                <button type="submit">Enviar</button>

            </form>
            
        </dialog>
        

        <script>
            const dialog = document.querySelector("#modalDialog");
            const openButton = document.querySelector("#openButton");
            const closeButton = document.querySelector("#closeButton");

            openButton.addEventListener("click", (e)=>{
                dialog.showModal();
            });

            closeButton.addEventListener("click", (e) =>{
                dialog.close();
            });

            const modalForm = document.querySelector("#modalForm")
            modalForm.addEventListener("submit", (e) =>{
                e.preventDefault();
                
                console.log("Enviando dados...");
            });

            dialog.addEventListener("click", (event) => {
                const rect = dialog.getBoundingClientRect();
                //Verificar se o clique está fora da área do formulário//
                if(
                    event.clientX < rect.left ||
                    event.clientX > rect.right||
                    event.clientY < rect.top ||
                    event.clientY > rect.bottom

                ) {
                    dialog.close();
                }

            });
        </script>
      </body>
</html>
